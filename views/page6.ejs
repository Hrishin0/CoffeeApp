<%- include partials/header.ejs %>

<!DOCTYPE html>
<html>
<head>
    <title>PayApp 12.07</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.2.7-rc.0/web3.min.js"></script>
    <style>
       body {
        background-color: #fffbf3;
       }
       img{
        max-width: 70vw;
        max-height: 70vh;
       }
       #imageContainer{
            text-align: center;
       }
       #detailsContainer{
            text-align: center;
            font-family: Gallient;
            font-size: 28px;
            color: #6F4E37;
       }

    </style>
</head>
<body onload="coffee()">
    <div style="text-align: center;">
        <button type="button" class="btn btn-outline-dark"  onclick="getOffer(), style.display='none'" style="margin-top: 20px; margin-right: 5vw;"> Get Today's Offer Details</button>
    </div>
    <div id="imageContainer"></div>
    <div id="detailsContainer"></div>
    <script>
        let randomValue = Math.floor(Math.random()*20) + 1;
        let image;
        function coffee(){
            fetch("https://fake-coffee-api.vercel.app/api").then((res) => res.json()).then((coffee) => {
                console.log(coffee[randomValue]);
                image = coffee[randomValue].image_url;
                description = coffee[randomValue].description;
                name = coffee[randomValue].name;
                weight = coffee[randomValue].weight;
                price = coffee[randomValue].price;

                })
        }
        function getOffer(){
            const imageContainer = document.getElementById("imageContainer");
            const detailsContainer = document.getElementById("detailsContainer");
            imageContainer.innerHTML = `<img src='${image}'/>`
            detailsContainer.innerHTML = ` <b>${name}</b> <br>  ${description} <br>  <b>20% off</b> <br>${weight}g Only â‚¬ ${price} `
        }

    </script>
   
</body>
</html>